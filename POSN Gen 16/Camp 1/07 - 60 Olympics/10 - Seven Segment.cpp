/*
    TASK: Seven Segment
    AUTHOR: Apimook Tratree
    SCHOOL: RYW
    LANG: C
*/
#include <bits/stdc++.h>
using namespace std;
char a[5][50],b[5][50],z[10];
int main()
{
    long long x,y,i,c=0,d=0;
    gets(z);
    sscanf(z,"%lld %lld",&x,&y);
    for(i=0;i<3;i++)
        gets(a[i]);
    for(i=0;i<3;i++)
        gets(b[i]);
    for(i=0;i<4*x;i+=4){
        c*=10;
        // 0
        if(a[0][i]==' ' && a[0][i+1]=='_' && a[0][i+2]==' ' &&
           a[1][i]=='|' && a[1][i+1]==' ' && a[1][i+2]=='|' &&
           a[2][i]=='|' && a[2][i+1]=='_' && a[2][i+2]=='|' ) c+=0;
        // 1
        if(a[0][i]==' ' && a[0][i+1]==' ' && a[0][i+2]==' ' &&
           a[1][i]==' ' && a[1][i+1]==' ' && a[1][i+2]=='|' &&
           a[2][i]==' ' && a[2][i+1]==' ' && a[2][i+2]=='|' ) c+=1;
        // 2
        if(a[0][i]==' ' && a[0][i+1]=='_' && a[0][i+2]==' ' &&
           a[1][i]==' ' && a[1][i+1]=='_' && a[1][i+2]=='|' &&
           a[2][i]=='|' && a[2][i+1]=='_' && a[2][i+2]==' ' ) c+=2;
        // 3
        if(a[0][i]==' ' && a[0][i+1]=='_' && a[0][i+2]==' ' &&
           a[1][i]==' ' && a[1][i+1]=='_' && a[1][i+2]=='|' &&
           a[2][i]==' ' && a[2][i+1]=='_' && a[2][i+2]=='|' ) c+=3;
        // 4
        if(a[0][i]==' ' && a[0][i+1]==' ' && a[0][i+2]==' ' &&
           a[1][i]=='|' && a[1][i+1]=='_' && a[1][i+2]=='|' &&
           a[2][i]==' ' && a[2][i+1]==' ' && a[2][i+2]=='|' ) c+=4;
        // 5
        if(a[0][i]==' ' && a[0][i+1]=='_' && a[0][i+2]==' ' &&
           a[1][i]=='|' && a[1][i+1]=='_' && a[1][i+2]==' ' &&
           a[2][i]==' ' && a[2][i+1]=='_' && a[2][i+2]=='|' ) c+=5;
        // 6
        if(a[0][i]==' ' && a[0][i+1]=='_' && a[0][i+2]==' ' &&
           a[1][i]=='|' && a[1][i+1]=='_' && a[1][i+2]==' ' &&
           a[2][i]=='|' && a[2][i+1]=='_' && a[2][i+2]=='|' ) c+=6;
        // 7
        if(a[0][i]==' ' && a[0][i+1]=='_' && a[0][i+2]==' ' &&
           a[1][i]==' ' && a[1][i+1]==' ' && a[1][i+2]=='|' &&
           a[2][i]==' ' && a[2][i+1]==' ' && a[2][i+2]=='|' ) c+=7;
        // 8
        if(a[0][i]==' ' && a[0][i+1]=='_' && a[0][i+2]==' ' &&
           a[1][i]=='|' && a[1][i+1]=='_' && a[1][i+2]=='|' &&
           a[2][i]=='|' && a[2][i+1]=='_' && a[2][i+2]=='|' ) c+=8;
        // 9
        if(a[0][i]==' ' && a[0][i+1]=='_' && a[0][i+2]==' ' &&
           a[1][i]=='|' && a[1][i+1]=='_' && a[1][i+2]=='|' &&
           a[2][i]==' ' && a[2][i+1]=='_' && a[2][i+2]=='|' ) c+=9;
           //printf("%d\n",c);
    }
    for(i=0;i<4*y;i+=4){
        d*=10;
        // 0
        if(b[0][i]==' ' && b[0][i+1]=='_' && b[0][i+2]==' ' &&
           b[1][i]=='|' && b[1][i+1]==' ' && b[1][i+2]=='|' &&
           b[2][i]=='|' && b[2][i+1]=='_' && b[2][i+2]=='|' ) d+=0;
        // 1
        if(b[0][i]==' ' && b[0][i+1]==' ' && b[0][i+2]==' ' &&
           b[1][i]==' ' && b[1][i+1]==' ' && b[1][i+2]=='|' &&
           b[2][i]==' ' && b[2][i+1]==' ' && b[2][i+2]=='|' ) d+=1;
        // 2
        if(b[0][i]==' ' && b[0][i+1]=='_' && b[0][i+2]==' ' &&
           b[1][i]==' ' && b[1][i+1]=='_' && b[1][i+2]=='|' &&
           b[2][i]=='|' && b[2][i+1]=='_' && b[2][i+2]==' ' ) d+=2;
        // 3
        if(b[0][i]==' ' && b[0][i+1]=='_' && b[0][i+2]==' ' &&
           b[1][i]==' ' && b[1][i+1]=='_' && b[1][i+2]=='|' &&
           b[2][i]==' ' && b[2][i+1]=='_' && b[2][i+2]=='|' ) d+=3;
        // 4
        if(b[0][i]==' ' && b[0][i+1]==' ' && b[0][i+2]==' ' &&
           b[1][i]=='|' && b[1][i+1]=='_' && b[1][i+2]=='|' &&
           b[2][i]==' ' && b[2][i+1]==' ' && b[2][i+2]=='|' ) d+=4;
        // 5
        if(b[0][i]==' ' && b[0][i+1]=='_' && b[0][i+2]==' ' &&
           b[1][i]=='|' && b[1][i+1]=='_' && b[1][i+2]==' ' &&
           b[2][i]==' ' && b[2][i+1]=='_' && b[2][i+2]=='|' ) d+=5;
        // 6
        if(b[0][i]==' ' && b[0][i+1]=='_' && b[0][i+2]==' ' &&
           b[1][i]=='|' && b[1][i+1]=='_' && b[1][i+2]==' ' &&
           b[2][i]=='|' && b[2][i+1]=='_' && b[2][i+2]=='|' ) d+=6;
        // 7
        if(b[0][i]==' ' && b[0][i+1]=='_' && b[0][i+2]==' ' &&
           b[1][i]==' ' && b[1][i+1]==' ' && b[1][i+2]=='|' &&
           b[2][i]==' ' && b[2][i+1]==' ' && b[2][i+2]=='|' ) d+=7;
        // 8
        if(b[0][i]==' ' && b[0][i+1]=='_' && b[0][i+2]==' ' &&
           b[1][i]=='|' && b[1][i+1]=='_' && b[1][i+2]=='|' &&
           b[2][i]=='|' && b[2][i+1]=='_' && b[2][i+2]=='|' ) d+=8;
        // 9
        if(b[0][i]==' ' && b[0][i+1]=='_' && b[0][i+2]==' ' &&
           b[1][i]=='|' && b[1][i+1]=='_' && b[1][i+2]=='|' &&
           b[2][i]==' ' && b[2][i+1]=='_' && b[2][i+2]=='|' ) d+=9;
    }
    //printf("%d %d\n",c,d);
    printf("%lld",c+d);
    return 0;
}
/*
4 3
         _   _
  | |_|  _|  _|
  |   | |_   _|
 _       _
  |   | |_
  |   | |_|
     _   _
  |  _|  _|
  | |_   _|
*/
